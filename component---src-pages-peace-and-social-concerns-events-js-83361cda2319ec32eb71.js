(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"9oyA":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));n("q1tI");var a=n("uzVn"),c=n("tStQ"),r=n("qKvR");function u(){return Object(r.c)(a.a,{calendarSlug:c.b,title:c.e,basePath:c.a})}},RYWz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("q1tI");var a=n("/A9N"),c=n("nYfD"),r=n("jNNy"),u=n("qKvR");function o(t){var e=t.title,n=t.basePath,o=t.children,s=[["About",n],["Posts",n+"/posts"],["Events",n+"/events"],["Documents",n+"/documents"]];return Object(u.c)(a.a,{withSubtitle:!1},Object(u.c)("h2",null,e),Object(u.c)(c.a,{links:s}),Object(u.c)("section",null,o),Object(u.c)(r.a,{title:e}))}},tStQ:function(t){t.exports=JSON.parse('{"e":"Peace & Social Concerns Committee","a":"/peace-and-social-concerns","b":"psc","d":"psc","c":"psc"}')},uzVn:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("q1tI");var a=n("RYWz"),c=n("xMho"),r=n("qKvR");function u(t){var e=t.title,n=t.basePath,u=t.calendarSlug;return Object(r.c)(a.a,{title:e,basePath:n},u?Object(r.c)(c.a,{calendarIds:[u],withFooter:!1}):null)}},v6fF:function(t,e,n){t.exports={calendarMonth:"calendar-module--calendarMonth--kE_ir",calendarEvents:"calendar-module--calendarEvents--FPY5u"}},xMho:function(t,e,n){"use strict";var a=n("KQm4"),c=n("HaE+"),r=n("o0o1"),u=n.n(r),o=(n("E9XD"),n("ToJy"),n("q1tI")),s=n.n(o),i=n("sWYD"),l=n("4+6U"),d=n("v6fF"),f=n.n(d),b=n("nZp4"),p=n("jNNy"),h=n("VTS2"),j=n("qKvR");function v(t,e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=10),h.b[e]&&(e=h.b[e]),console.log("fetch this calendar ID",e),t.abrupt("return",new Promise(function(){var t=Object(c.a)(u.a.mark((function t(a,c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{Object(b.b)().then((function(t){t.calendar.events.list({calendarId:e,timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,orderBy:"startTime",maxResults:n}).then((function(t){a(t.result.items)})).catch((function(t){a([])}))})).catch((function(t){console.log("Calendar was unable to load",t),a([])}))}catch(c){console.log(c),a([])}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.a=function(t){var e=t.calendarIds,n=void 0===e?[h.b.main]:e,r=t.withFooter,d=void 0===r||r,O=t.pageTitle,m=Object(o.useState)([]),y=m[0],w=m[1],M=Object(o.useState)(!1),g=M[0],x=M[1];function S(){return(S=Object(c.a)(u.a.mark((function t(){var e,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g){t.next=2;break}return t.abrupt("return");case 2:return e=[],t.next=5,Promise.all(n.map(function(){var t=Object(c.a)(u.a.mark((function t(n){var c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(n);case 2:r=t.sent,e=(c=e).concat.apply(c,Object(a.a)(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:x(!0),r=k(e),w(r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){var e=new Map;return t.sort((function(t,e){var n=I(t.start),a=I(e.start);return n>a?1:a>n?-1:0})).reduce((function(t,e,n){var a=Object(i.a)(E(e.start),"MMMM"),c=t.get(a);return c?t.set(a,c.concat(e)):t.set(a,[e]),t}),e)}function I(t){return t.dateTime||t.date}function E(t){return Object(l.a)(I(t))}function N(t){return Object(i.a)(t,"MMMM d, y")}function P(t){return Object(i.a)(t,"h:mm aaaa")}function q(t){var e=t.summary,n=t.id,a=t.location,c=t.description,r=t.start,u=t.end,o=t.organizer,s=o.email,l=E(r),f=E(u),b=Object(i.a)(l,"yyyy-MM-dd"),p=b===Object(i.a)(f,"yyyy-MM-dd")?N(l)+", "+P(l)+" to "+P(f):N(l)+", "+P(l)+" to "+N(f)+", "+P(f);return Object(j.c)("li",{key:n},Object(j.c)("header",null,e),Object(j.c)("time",{dateTime:b},p),a?Object(j.c)("span",null,a):null,c?Object(j.c)("p",{dangerouslySetInnerHTML:{__html:c}}):null,d&&s!==h.b.main?Object(j.c)("footer",null,o.displayName):null)}return Object(o.useEffect)((function(){!function(){S.apply(this,arguments)}()})),Object(j.c)(s.a.Fragment,null,Object(j.c)(b.a,null),Object(j.c)(p.a,{title:O||"Calendar"}),Object(j.c)("section",null,function(){if(g){if(y.size){for(var t=[],e=y.entries(),n=0;n<y.size;n++){var a=e.next().value,c=a[0],r=a[1];t.push(Object(j.c)(o.Fragment,{key:"month-"+c},Object(j.c)("h3",{className:f.a.calendarMonth},c),Object(j.c)("ul",{className:f.a.calendarEvents},r.map(q))))}return t}return Object(j.c)("p",null,"There are no upcoming events on the calendar.")}return Object(j.c)("p",null,"Loading events from calendar...")}()))}}}]);
//# sourceMappingURL=component---src-pages-peace-and-social-concerns-events-js-83361cda2319ec32eb71.js.map